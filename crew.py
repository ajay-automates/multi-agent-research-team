"""\nMulti-Agent Research Team \u2014 Crew Orchestration\nAssembles agents and tasks into a sequential pipeline.\nResearch \u2192 Analysis \u2192 Writing \u2192 Editing\n"""\n\nfrom crewai import Crew, Process\nimport time\nimport json\n\nfrom agents import create_researcher, create_analyst, create_writer, create_editor\nfrom tasks import create_research_task, create_analysis_task, create_writing_task, create_editing_task\n\n\nclass ResearchCrew:\n    """Orchestrates the multi-agent research team."""\n\n    def __init__(self):\n        self.researcher = create_researcher()\n        self.analyst = create_analyst()\n        self.writer = create_writer()\n        self.editor = create_editor()\n\n    def run(self, topic: str, platforms: str = "linkedin,twitter,newsletter") -> dict:\n        """\n        Execute the full research-to-content pipeline.\n\n        Flow: Research \u2192 Analysis \u2192 Writing \u2192 Editing\n        Each agent's output feeds into the next agent's context.\n        """\n        start_time = time.time()\n\n        research_task = create_research_task(self.researcher, topic)\n        analysis_task = create_analysis_task(self.analyst, topic)\n        writing_task = create_writing_task(self.writer, topic, platforms)\n        editing_task = create_editing_task(self.editor, topic)\n\n        crew = Crew(\n            agents=[self.researcher, self.analyst, self.writer, self.editor],\n            tasks=[research_task, analysis_task, writing_task, editing_task],\n            process=Process.sequential,\n            verbose=True,\n        )\n\n        result = crew.kickoff()\n\n        elapsed = round(time.time() - start_time, 2)\n\n        return {\n            "topic": topic,\n            "platforms": platforms,\n            "final_output": str(result),\n            "task_outputs": [\n                {"agent": "Senior Research Analyst", "task": "Research", "output": str(research_task.output) if research_task.output else "N/A"},\n                {"agent": "Strategic Analyst", "task": "Analysis", "output": str(analysis_task.output) if analysis_task.output else "N/A"},\n                {"agent": "Content Strategist & Writer", "task": "Writing", "output": str(writing_task.output) if writing_task.output else "N/A"},\n                {"agent": "Senior Editor & Fact Checker", "task": "Editing", "output": str(editing_task.output) if editing_task.output else "N/A"},\n            ],\n            "metrics": {\n                "total_agents": 4,\n                "total_tasks": 4,\n                "process": "sequential",\n                "latency_seconds": elapsed,\n            }\n        }\n\n\nif __name__ == "__main__":\n    import sys\n    topic = " ".join(sys.argv[1:]) if len(sys.argv) > 1 else "Latest developments in AI agents and multi-agent systems"\n    print(f"\\n\ud83d\ude80 Starting Research Crew on: {topic}\\n")\n    crew = ResearchCrew()\n    result = crew.run(topic)\n    print("\\n" + "=" * 80)\n    print("\ud83d\udccb FINAL OUTPUT")\n    print("=" * 80)\n    print(result["final_output"])\n    print(f"\\n\u23f1\ufe0f  Completed in {result['metrics']['latency_seconds']}s with {result['metrics']['total_agents']} agents")\n